function ImageFileCheck(){$caption=$("#photo-input-caption");var a=$("#max_filesize").val();if($file=$("#photo_files"),window.File&&window.FileReader&&window.FileList&&window.Blob){if($file.val()){var e=$file[0].files[0].size,o=$file[0].files[0].type;switch(""==o&&(o=$file.val().substr($file.val().lastIndexOf(".")+1)),o){case"image/png":case"image/gif":case"image/jpeg":case"image/pjpeg":case"image/jpg":case"png":case"jpg":case"jpeg":break;default:return $caption.html("เลือกไฟล์รูปภาพเท่านั้น!"+o).addClass("input-caption-alert"),$("#transfer_photo_icon").removeClass("check-active"),!1}return e>a?($caption.html("ไฟล์ใหญ่เกิน "+a/1048576+" MB!").addClass("input-caption-alert"),$("#transfer_photo_icon").removeClass("check-active"),!1):($caption.html("เลือกภาพแล้ว").removeClass("input-caption-alert"),$("#transfer_photo_icon").addClass("check-active"),!0)}return $("#transfer_photo_icon").removeClass("check-active"),alert("เราขอภาพถ่ายใบสลิปโอนเงินด้วยนะคะ!"),!1}return $caption.html("Browser ไม่รอบรับการทำงานนี้!").addClass("input-caption-alert"),$("#transfer_photo_icon").removeClass("check-active"),!1}function TotalValidation(){var a=$("#transfer_total").val(),e=$("#all-payments").val();return""==a?($("#transfer_total_icon").removeClass("check-active"),!1):e>a?($("#transfer_total_icon").removeClass("check-active"),!1):($("#transfer_total_icon").addClass("check-active"),!0)}function BankValidation(){var a=$("#transfer_bank").val();return a>0?($("#transfer_bank_icon").addClass("check-active"),!0):($("#transfer_bank_icon").removeClass("check-active"),!1)}function NameValidation(){var a=$("#transfer_realname").val();return""==a?($("#transfer_name_icon").removeClass("check-active"),!1):($("#transfer_name_icon").addClass("check-active"),!0)}function AddressValidation(){var a=$("#transfer_address").val();return""==a?($("#transfer_address_icon").removeClass("check-active"),!1):($("#transfer_address_icon").addClass("check-active"),!0)}function PhoneValidation(){var a=$("#transfer_phone").val();return""==a?($("#transfer_phone_icon").removeClass("check-active"),!1):($("#transfer_phone_icon").addClass("check-active"),!0)}$(document).ready(function(){$(".animated").autosize({append:"\n"}),$panel=$("#progress-panel"),$bar=$("#progress-bar"),$icon=$("#progress-icon"),$message=$("#progress-message");$("#order_id").val();$("#MoneyTransfer").ajaxForm({beforeSubmit:function(){return console.log("Process: BeforeSubmit..."),ImageFileCheck()?TotalValidation()?BankValidation()?NameValidation()?AddressValidation()?PhoneValidation()?($panel.fadeIn(),$bar.width("0%"),void 0):($("#transfer_phone").focus(),console.log("Process: PhoneValidation: Fail!"),alert("รบกวนขอเบอร์ติดต่อกลับด้วยนะคะ ขอบคุณค่ะ"),!1):($("#transfer_address").focus(),console.log("Process: AddressValidation: Fail!"),alert("คุณยังไม่ได้กรอกที่อยู่สำหรับจัดสั่งสินค้าค่ะ!"),!1):($("#transfer_realname").focus(),console.log("Process: NameValidation: Fail!"),alert("คุณยังไม่ได้ใส่ชื่อนามสกุลที่จะใช้ในการส่งสินค้าค่ะ!"),!1):($("#transfer_bank").focus(),console.log("Process: BankValidation: Fail!"),alert("เลือกธนาคารที่คุณโอนเงินด้วยนะคะ ขอบคุณค่ะ"),!1):($("#transfer_total").focus(),console.log("Process: TotalValidation: Fail!"),alert("ระบุจำนวนเงินที่โอนด้วยนะคะ ขอบคุณค่ะ"),!1):(console.log("Process: Photo is empty!"),alert("เราขอภาพถ่ายใบสลิปโอนเงินด้วยนะคะ ขอบคุณค่ะ"),!1)},uploadProgress:function(a,e,o,n){var s=n,t="";for($bar.animate({width:s+"%"},300),s>80&&$message.html('<i class="fa fa-circle-o-notch fa-spin"></i>กำลังส่งอีเมล...'),i=0;s>i;i++)t+="|";console.log("Photo Upload => "+s+"% "+t)},success:function(){console.log("Upload Successed and Waiting..."),$message.html('<i class="fa fa-circle-o-notch fa-spin"></i>กำลังบันทึก...')},complete:function(){console.log("Complete!"),$message.html('<i class="fa fa-check"></i>ส่งหลักฐานการโอนเงินแล้ว'),location.reload()}}),BankValidation(),NameValidation(),AddressValidation(),PhoneValidation(),TotalValidation(),$("#transfer_total").blur(TotalValidation),$("#transfer_bank").blur(BankValidation),$("#transfer_realname").blur(NameValidation),$("#transfer_address").blur(AddressValidation),$("#transfer_phone").blur(PhoneValidation),$("#photo_files").on("change",ImageFileCheck)});