function AddItemToOrder(e){$("#buy-button-price-"+e).removeClass("pulse"),$("#buy-button-msg-"+e).html('<i class="fa fa-spinner fa-spin"></i>');var r="api.order.php",o=1;$.ajax({url:r,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"AddToOrder",amount:o,product_id:e},error:function(){console.log("Request Error")}}).done(function(r){console.log("Return: "+r.message+","+r.return),$("#buy-button-"+e).html('<i class="fa fa-arrow-right"></i> ชำระเงิน'),$("#buy-button-"+e).addClass("pulse buy-btn-active"),r.message?MyCurrentOrder():window.location="order-"+r.return+".html"}).error()}function EditItemInOrder(e,r){var o="api.order.php",a=$("#product-quantity-"+e+r).val(),n=$("#paying-button");$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"EditInOrder",amount:a,order_id:e,product_id:r},error:function(){console.log("Request Error")}}).done(function(o){console.log("Message: "+o.message+" Return:"+o.return),o.return?($("#product-quantity-"+e+r).removeClass("fail"),n.show()):($("#product-quantity-"+e+r).addClass("fail"),n.hide(),ToggleAlert('<i class="fa fa-quote-left"></i>สินค้าไม่พอ!<i class="fa fa-quote-right"></i>'))}).error()}function RemoveItemInOrder(e,r){var o="api.order.php",a=confirm("คุณต้องการลบสินค้าออกจากตะกร้าใช่หรือไม่?");return a?($.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"RemoveInOrder",order_id:e,product_id:r},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),$("#items-in-order-"+r).remove(),MyCurrentOrder(),SummaryPayments()}).error(),void 0):!1}function OrderProcess(e,r){var o="api.order.php",a=$("#shipping_type").val();$("#dialog-message").html("กรุณารอสักครู่..."),$("#dialog-box").fadeIn(300),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"OrderProcess",order_id:e,order_action:r,order_shipping_type:a},error:function(){console.log("Request Error")}}).done(function(e){console.log(e.message),location.reload()}).error()}function MyCurrentOrder(){var e="api.order.php";$("#my-cart").removeClass("pulse"),$.ajax({url:e,cache:!1,dataType:"json",type:"GET",data:{calling:"Order",action:"MyCurrentOrder"},error:function(){console.log("Request Error")}}).done(function(e){var r=numeral(e.data.payments).format("0,0");$("#my-cart").addClass("pulse"),$("#amount").html(e.data.amount),$("#payments").html(r+" ฿"),e.data.payments>0?$("#my-cart i").addClass("animated infinite pulse"):$("#my-cart i").removeClass("animated infinite pulse")}).error()}function EditAddress(e){var r="api.order.php",o=$("#customer_name").val(),a=$("#customer_address").val(),n=$("#customer_phone").val();$("#dialog-message").html("กำลังบันทึก..."),$("#dialog-box").fadeIn(300),$.ajax({url:r,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"EditAddress",order_id:e,realname:o,address:a,phone:n},error:function(){console.log("Request Error")}}).done(function(r){console.log("Message: "+r.message+" Return:"+r.return),setTimeout(function(){window.location="order-"+e+".html"},1e3)}).error()}function CencelTransfer(e){var r="api.order.php";$("#dialog-message").html("กำลังยกเลิกการโอนเงิน..."),$("#dialog-box").fadeIn(300),$.ajax({url:r,cache:!1,dataType:"json",type:"POST",data:{calling:"Order",action:"CancelTransfer",order_id:e},error:function(){console.log("Request Error")}}).done(function(r){console.log("Message: "+r.message+" Return:"+r.return),setTimeout(function(){window.location="order-"+e+".html"},1e3)}).error()}